# Opinion.trade 프록시 정상 작동 확인 및 실패 시 계획

## 1. 프록시가 정상인지 확인

모든 API 호출은 **계정별로** 각자의 API 키 + 프록시로 나갑니다. 계정 2(Wallet 2)는 `OPINION_API_KEY_2` + `OPINION_PROXY_2`만 사용합니다.

**테스트 방법 (로컬):**

```bash
cd /Users/han/Downloads/o-bot
python3 scripts/test_opinion_proxy.py
```

- 계정1, 계정2(Wallet 2) 각각 `get_positions` 1건 호출로 프록시·키 동작 여부 확인
- 둘 다 OK면 정상. 하나라도 실패하면 아래 계획 참고.

---

## 2. 프록시 형식

- **형식:** `IP:PORT:USER:PASS` (콜론 4개)
- 예: `171.22.250.250:6369:lzojpoeh:7c72o6xe57wp`

---

## 3. 프록시가 동작하지 않을 때 진행 계획

| 순서 | 확인/조치 |
|------|-----------|
| 1 | **형식 점검** — `IP:PORT:USER:PASS` 4부분인지, 공백/줄바꿈 없이 한 줄인지 확인. |
| 2 | **다른 네트워크** — 해당 프록시가 지역/ISP 제한이 있으면, 다른 네트워크(다른 Wi‑Fi, 휴대폰 테더링)에서 `test_opinion_proxy.py` 다시 실행. |
| 3 | **프록시 업체 확인** — 해당 프록시가 살아 있는지, 만료/일시 중지 아닌지 업체 대시보드나 문의로 확인. |
| 4 | **다른 프록시로 교체** — 계정2 전용으로 다른 프록시를 발급받아 `OPINION_PROXY_2`만 교체 후 같은 스크립트로 재테스트. |
| 5 | **Opinion 측 문의** — 특정 지역/IP만 허용하는지, 프록시 없이 직접 호출 가능한지(정책상 가능한 경우) 문의. |

현재 구조상 **계정마다 API 키 + 프록시가 쌍으로** 가므로, 계정2만 프록시를 바꾸려면 `OPINION_PROXY_2`만 수정하면 됩니다. 앱 재시작 후 다시 `test_opinion_proxy.py`로 확인하면 됩니다.
