# Cursor ↔ Claude Code 협업 워크플로우

이 문서는 **Git에 커밋되는 단일 기준**입니다. Cursor와 Claude Code(Claude)가 같은 규칙을 따르도록 여기만 보면 됩니다.

---

## 1. 역할 분담

| 도구 | 담당 |
|------|------|
| **Cursor** | 코드 작성, 구현, 리팩터링 |
| **Claude Code (Claude)** | 코드 리뷰, PR(Pull Request) 검토·작성 |

- 구현은 Cursor, 검증·정리(리뷰/PR)는 Claude가 담당합니다.

---

## 2. 브랜치 규칙

- **항상 브랜치에서 작업:** 새 작업은 `main`(또는 기본 브랜치)에서 분기한 브랜치에서 진행합니다.
- **작업 브랜치명 명시:** Cursor가 작업을 마치면, 완료 요약에 **현재 작업 브랜치명**을 반드시 적습니다.  
  → 사용자가 Claude에게 *"Cursor로 작업한 최신 브랜치에서 diff만 보고 리뷰/PR 해 줘"*라고 요청할 수 있게 합니다.

---

## 3. 작업 완료 시 정리 (Cursor가 할 일)

- **변경 요약:** 작업이 끝나면 변경된 파일·기능을 짧게 요약합니다.
- **논리적 커밋 단위:** `git diff`로 나누기 쉽게, **한 커밋 = 한 논리적 단위**가 되도록 코드를 정리합니다.  
  - 예: 기능 하나, 버그 수정 하나, 리팩터 한 묶음  
  - 필요하면 *"이 부분은 A 커밋, 이 부분은 B 커밋"*처럼 구분 제안을 합니다.

---

## 4. Claude가 할 일 (리뷰/PR 시)

- **입력:** Cursor가 작업한 **브랜치의 diff** (사용자가 지정한 최신 작업 브랜치).
- **행동:** 해당 브랜치의 `git diff`(또는 변경 파일 목록)만 보고 코드 리뷰 또는 PR 설명/검토를 수행합니다.
- **문서:** 리뷰 시 README 등 문서 변경이 논리적 단위에 맞게 포함되었는지 확인합니다.

---

## 5. 규칙 파일 위치 (동기화용)

- **이 문서:** `docs/COLLAB_WORKFLOW.md` — Git에 올라가는 단일 기준.
- **Cursor:** `.cursorrules`, `.cursor/rules/collab-claude-code.mdc` — 위 내용과 맞춤.
- **Claude:** `.claude/rules/collab-cursor.md` — Claude가 바로 이해하도록 위 내용을 지시문 형태로 정리.

Git에 올릴 때는 위 규칙대로 반영하면 되고, **Claude는 이 문서(`docs/COLLAB_WORKFLOW.md`)와 `.claude/rules/`를 읽으면 워크플로우를 바로 이해할 수 있습니다.**
